<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets">
   
    
    <head>

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <title>Gestion des contrats</title>
        <!-- STYLESHEET -->
        <!-- FONTS -->
        <!-- Muli -->
        <link href="https://fonts.googleapis.com/css?family=Signika:300,400,600,700" rel="stylesheet" />
        <!-- icon -->
        <!-- Font Awesome -->
        <link rel="stylesheet" href="fonts/icons/fontawesome/css/font-awesome.min.css" />
        <link rel="stylesheet" href="fonts/icons/sharehub/style.css" />
        <!-- Vendor -->
        <!-- Custom -->
        <link rel="stylesheet" href="vendor/magnificPopup/dist/magnific-popup.css" type="text/css" />
        <link href="css/style.css" rel="stylesheet" />

        <!-- JAVA SCRIPT -->
        <!-- require -->

        <script data-main="js/app" src="vendor/require/require.js"></script>
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <!-- HEADER --><header>

            <div class="sh-header">

                <div class="container">
                    <a href="index.php" class="sh-logo">
                        <img src="fonts/icons/sharehub/svg/Sharehub.svg" alt="" />
                        <img src="fonts/icons/sharehub/svg/Sharehub.svg" alt="" />
                    </a>

                    <div class="sh-header__btn-dropdown sh-btn-icon"><i class="icon-Arrow_Down" /></div>

                    <ul class="sh-header__dropdown">

                        <li><a href="index.html">Home</a></li>

                        <li><a href="single_post.html">Single Post</a></li>

                        <li><a href="multiple_image_post.html">Multiple Image Post</a></li>

                        <li><a href="single_video_post.html">Single Video Post</a></li>

                        <li><a href="user.html">User</a></li>

                        <li><a href="edit_post.html">Edit Post</a></li>

                        <li><a href="login.html">Login</a></li>

                        <li><a href="signup.html">Signup</a></li>
                    </ul>

                    

                    <div class="sh-header__search">
                        <form action="#">
                            <label>
                                <input type="search" name="global-search" class="form-control" placeholder="Search ..." />
                                <i class="icon-Search" />
                            </label>
                        </form>
                    </div>

                    <div class="sh-header__control">
                        <a href="#" class="sh-header__btn-like sh-btn-icon"><i class="icon-Favotire_empty" /></a>
                        <a href="#" class="sh-header__btn-comment sh-btn-icon"><i class="icon-Comment" /></a>
                        <a href="#" class="sh-header__btn-notification sh-btn-icon"><i class="icon-Notification" /></a>


                    </div>

                    <div class="sh-user">

                        <div class="sh-user__head">

                            <p>3 New Notifications</p>
                            <a href="#" class="sh-user__close sh-btn-icon"><i class="icon-Cancel" /></a>
                        </div>

                        <div class="sh-user__content">

                            <div>

                                <div><a href="#"><img src="fonts/icons/sharehub/svg/Badge_03.svg" alt="" /></a></div>

                                <div>

                                    <div>New Badge Earned</div>
                                    <span>Get 1K upvotes on your post</span>
                                </div>
                            </div>

                            <div>

                                <div><a href="#"><img src="images/avatars/user-02.jpg" alt="" /></a></div>

                                <div>

                                    <div>Life choices of my cat</div>
                                    <span>Earned <i class="icon-Upvote" /> 210</span>
                                </div>
                            </div>
                        </div>

                        <div class="sh-user__footer">
                            <a href="#" class="sh-comments__avatar sh-avatar"><img src="images/avatars/avatar-01.png" alt="" /></a>

                            <div>
                                <a href="#">bastion . </a>
                                <span>1 hour ago</span>

                                <p>Hey, howâs it going nathun?</p>
                            </div>
                        </div>
                    </div>

                    <script>
                        require(['app'], function () {
                            require(['modules/userToggle']);
                        });
                    </script>
                </div>
            </div>

            <div class="sh-upload">

                <div class="sh-upload__head">
                    <form action="#"><input type="text" class="form-control ttg-border-none" placeholder="Paste URL or image link or add text here" /></form>
                </div>

                <div class="sh-upload__content">
                    <img src="fonts/icons/sharehub/svg/Upload_graphic.svg" alt="" />

                    <p>Drag Images here or <a href="#" class="sh-btn">Browse</a> from your computer. </p>
                </div>

                
            </div>


        </header>
        <!-- MAIN -->
        <main>

            <div class="container">
                <!--sections-->

                <div class="row">

                    <h3 class="title-5 m-b-35">Gestion des contrats</h3>


                    <h:form>
                        <table class="table table-data2">
                            <h:button value="Retour" outcome="contracts.jsf" class="returnbuttons" />

                            <tr>
                                <td>
                                    <div class="imgbutton">
                                        <a href="contractvie.jsf">
                                            <img src="/images/life_insurance.jpg" alt="Snow" />
                                            <h:button value="Contrat Vie" class="btnimg" />
                                        </a>
                                    </div>
                                </td>
                                <td>
                                    <div class="imgbutton">
                                        <a href="contractrente.jsf">
                                            <img src="/images/annuityinsurance.jpg" alt="Snow" />
                                            <h:button value="Contrat Rente" class="btnimg" />
                                        </a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="imgbutton">
                                        <a href="mixteinsurance.png">
                                            <img src="/images/mixteinsurance.png" alt="snow" />
                                            <h:button value="Contrat Mixte" class="btnimg" outcome="contractmixte.jsf" />
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </h:form>
                    <h:panelGrid columns="2">
                        <h:form>
                            <h:dataTable value="#{ContractController.contracts}" var="contract" border="1" styleClass="table table-data2">
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Approuvé" />
                                    </f:facet>
                                    <h:outputText value="#{contract.approved == true ? 'Oui' : 'Non'}" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="ID Contrat" />
                                    </f:facet>
                                    <h:outputText value="#{contract.idcontract}" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Type" />
                                    </f:facet>
                                    <h:outputText value="#{contract.type}" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Date de Création" />
                                    </f:facet>
                                    <h:outputText value="#{contract.creation_date}" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Date d'éxpiration" />
                                    </f:facet>
                                    <h:outputText value="#{contract.expiration_date}" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Durée" />
                                    </f:facet>
                                    <h:outputText value="#{contract.duration}" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Prime" />
                                    </f:facet>
                                    <h:outputText value="#{contract.price}" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Capital/Rente" />
                                    </f:facet>
                                    <h:outputText value="#{contract.cost}" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Taux %" />
                                    </f:facet>
                                    <h:outputText value="#{contract.rate *100} %" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Assuré" />
                                    </f:facet>
                                    <h:outputText value="#{contract.user.firstName} #{contract.user.lastName}" />
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Gérer" />
                                    </f:facet>
                                    <h:commandButton action="#{ContractController.resignContract(contract.idcontract)}" value="Résilier" />
                                </h:column>
                            </h:dataTable>
                        </h:form>
                    </h:panelGrid>
                </div>
            </div>
        </main>
        <!-- FOOTER --><footer>

            
        </footer>
    </body>
</ui:composition>